<!DOCTYPE HTML>
<html>
  <head>
    <title>telempathy... i can feel it</title>
    <link rel="stylesheet" href="/style.css">
    <script src="/feeling-systems.bundled.js"></script>
  </head>
  <body class="unchecked">
    <div id="fingerprint"></div>
    <script>
      function whoami() {
        let ua = window.navigator.userAgent;
        return ua;
      }
      let fin = document.getElementById("fingerprint");
      fin.innerText = whoami();
    </script>

      <svg
      width="600"
      height="350"
      viewBox="0 0 600 350"
      xmlns="http://www.w3.org/2000/svg"
      id="you-wont-believe-this"
      >
      <filter id="displacementFilter">
      <feTurbulence
        type="turbulence"
        baseFrequency="0.010"
        numOctaves="2"
        result="turbulence"
        />
      <feOffset 
        in="turbulence"
        dx="100"
        dy="0"
        result="offy"
        id="offy"
        />
      <feDisplacementMap
      in2="offy"
      in="SourceGraphic"
      scale="26"
      xChannelSelector="R"
      yChannelSelector="G"
      id="displacey"
      />
      </filter>

      <g id="text-me-so-hard"><!--
        <text x="0" y="100" class="wavy">you won'</text>
        <text x="0" y="200" class="wavy">t believe</text>
        <text x="0" y="300" class="wavy">this</text>
      --></g>

      </svg>

    <div id="message-box" class="hidden">
      WRITE A MESSAGE!!?
      <form method="POST" action="/write" id="write-a-message">
        <textarea cols="12" rows="4" wrap="hard" maxlength="48" id="message"></textarea>
        <input type="submit">
      </form>
    </div>

    <script>
      let svg = document.getElementById("offy");
      let scale = 1.0;

      (function move() {
        requestAnimationFrame(move);
        let t = +new Date() / 1000.0;
        let x = 10*Math.cos(t);
        let y = 10*Math.sin(t);
        svg.dx.baseVal = x;
        svg.dy.baseVal = y;
      }());
    </script>
  </body>
</html>
