<!DOCTYPE HTML>
<html>
  <head>
    <title>telempathy... i can feel it</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/style.css">
    <script src="/feeling-systems.bundled.js"></script>
  </head>

  <body class="unchecked">

    <!-- MESSAGE -->
    <svg viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg" id="you-wont-believe-this">
      <filter id="displacementFilter">
      <feTurbulence
        type="turbulence"
        baseFrequency="0.010"
        numOctaves="2"
        result="turbulence"
        />
      <feOffset 
        in="turbulence"
        dx="100"
        dy="0"
        result="offy"
        id="offy"
        />
      <feDisplacementMap
        in2="offy"
        in="SourceGraphic"
        scale="26"
        xChannelSelector="R"
        yChannelSelector="G"
        id="displacey"
        />
      </filter>
      <g id="text-me-so-hard" class="wavy"></g>
    </svg>

    <!-- FORM -->
    <div id="message-box" class="hidden">
      <form method="POST" action="/write" id="write-a-message"><textarea
          value="leave\na\nmess\nage"
          cols="12"
          rows="4"
          wrap="hard"
          maxlength="48"
          id="message"
          ></textarea><input type="submit" value="send a missive" id="submitter"></form>
    </div>

    <!-- ANIMATION for MESSAGE -->
    <script>
      let svg = document.getElementById("offy");
      let scale = 1.0;

      (function move() {
        requestAnimationFrame(move);
        let t = +new Date() / 1000.0;
        let x = 10*Math.cos(t);
        let y = 10*Math.sin(t);
        svg.dx.baseVal = x;
        svg.dy.baseVal = y;
      }());
    </script>
  </body>
</html>
